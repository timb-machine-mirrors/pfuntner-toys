#! /usr/bin/env python3

import sys
import string
import logging
import argparse

def escape(s):
  ret = ''
  for c in s:
    if c in string.printable:
      ret += c
    else:
      ret += repr(c)[1:-1]
  return ret
  
parser = argparse.ArgumentParser(description='Display stdin character by character')
parser.add_argument('-l', '--long', action='store_true', help='Print line prior to individual characters')
parser.add_argument('-v', '--verbose', action='count', help='Enable debugging')
args = parser.parse_args()

logging.basicConfig(format='%(asctime)s %(levelname)s %(pathname)s:%(lineno)d %(msg)s')
log = logging.getLogger()
# log.setLevel(logging.DEBUG if args.verbose else logging.WARNING)
log.setLevel(logging.WARNING - (args.verbose or 0)*10)

if sys.stdin.isatty():
  parser.error('stdin must be redirected')

for line in sys.stdin.read().splitlines():
  if args.long:
    print(escape(line))
  for c in line:
    print(escape(c))
